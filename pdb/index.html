<!DOCTYPE html>
<html>

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Beisi @ St. Jude - pdb</title>
    <meta name="description" content="pdb.">
    <link rel="stylesheet" href="https://xubeisi.github.io/css/main.css">
    <link rel="canonical" href="https://xubeisi.github.io/pdb/">
    <link rel="shortcut icon" type="image/x-icon" href="https://xubeisi.github.io/images/favicon.ico">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/academicons/css/academicons.css">

    
        
    
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7VM1P89105"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-7VM1P89105');
        </script>
        
    
</head>




  <body>

    
<div class="container">
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div>
        <a class="navbar-brand" href="https://xubeisi.github.io/">Beisi @ St. Jude</a>
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main_nav" aria-expanded="false">
          <span class="glyphicon glyphicon-menu-hamburger"></span>
        </button>

        <div class="collapse navbar-collapse" id="main_nav">
          <ul class="nav navbar-nav navbar-right">
            
            
              
              

              
                
                  
                  
                  
                  
                  
                  
                    <li class="">
                    <a href="https://xubeisi.github.io/cv/">
                      CV
                    </a>
                    </li>
                  
                
              
            
              
              

              
                
                  
                  
                  
                  
                  
                  
                    <li class="">
                    <a href="https://xubeisi.github.io/research/">
                      Research
                    </a>
                    </li>
                  
                
              
            
              
              

              
                
                  
                  
                  
                  
                  
                  
                    <li class="">
                    <a href="https://xubeisi.github.io/publications/">
                      Publications
                    </a>
                    </li>
                  
                
              
            
              
              

              
                
                  <li class="">
                    <a href="https://xubeisi.github.io/code/">
                      Code
                    </a>
                  </li>
                
              
            
              
              

              
                
                  <li class="">
                    <a href="https://xubeisi.github.io/covidexpress/">
                      CovidExpress
                    </a>
                  </li>
                
              
            
              
              

              
                
                  <li class="active">
                    <a href="https://xubeisi.github.io/pdb/">
                      PDB
                    </a>
                  </li>
                
              
            
              
              

              
                
                  <li class="">
                    <a href="https://xubeisi.github.io/contact/">
                      Contact
                    </a>
                  </li>
                
              
            
            <li align="center" style="padding-top: 14px;padding-bottom: 14px;">
              <form action="/search.html" method="get">
                <input type="text" id="search-box" name="query" style="width: 80px; height: 20px;">
                <input type="submit" value="search" style="font-size:12px; height: 20px;">
              </form>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script id="rendered-js">
const $dropdown = $(".dropdown");
const $dropdownToggle = $(".dropdown-toggle");
const $dropdownMenu = $(".dropdown-menu");
const showClass = "show";

$(window).on("load resize", function () {
  if (this.matchMedia("(min-width: 768px)").matches) {
    $dropdown.hover(
    function () {
      const $this = $(this);
      $this.addClass(showClass);
      $this.find($dropdownToggle).attr("aria-expanded", "true");
      $this.find($dropdownMenu).addClass(showClass);
    },
    function () {
      const $this = $(this);
      $this.removeClass(showClass);
      $this.find($dropdownToggle).attr("aria-expanded", "false");
      $this.find($dropdownMenu).removeClass(showClass);
    });

  } else {
    $dropdown.off("mouseenter mouseleave");
  }
});
</script>


    <div class="container-fluid">
      <div class="row">
        <script src="/assets/jmol/jsmol/JSmol.min.js"></script>

<script>
var pdblistfile = "/assets/jmol/pdb.lst";
var pdblist=[];
var myJmols=[];

const JmolInfo = {
    width:'100%',
    height:'100%',
    color:'#E2F4F5',
    j2sPath:'/assets/jmol/jsmol/j2s',
    serverURL:'/assets/jmol/jsmol/php/jsmol.php',
    use:'html5'
};

fetch(pdblistfile)
    .then(response => response.text())
    .then(data => {
        var lines = data.trim().split('\n');
        for(var line = 0; line < lines.length; line++){
            if (lines[line].length > 0){
                pdblist.push(lines[line].trim().split(/\s+/));
                myJmols.push('myJmol' + line.toString());
            }
        }

        maxx = Math.max.apply(Math, pdblist.map(function(o) { return o[0]; }))
        maxy = Math.max.apply(Math, pdblist.map(function(o) { return o[1]; }))
        var tab2d = [];
        for(var j = 0; j < maxy; j++){
            var tabtmp = [];
            for(var i = 0; i < maxx; i++){
                tabtmp.push("");
            }
            tab2d.push(tabtmp);
        }
        for(var line = 0; line < pdblist.length; line++){
            var x=pdblist[line][0]-1,
                y=pdblist[line][1]-1;
            tab2d[y][x] = "Yes";
        }

        $(document).ready(function(){
            createTable(tab2d);
            for(var line = 0; line < pdblist.length; line++){
                var myJmol = myJmols[line];
                var cmds=[];
                var x=pdblist[line][0],
                    y=pdblist[line][1],
                    pdbname=pdblist[line][2],
                    onepdbfile=pdblist[line][3];
                cmds.push(`$('#JmolDiv${x}_${y}').html( Jmol.getAppletHtml('${myJmol}', JmolInfo) );`)
                cmds.push(`Jmol.jmolCheckbox(${myJmol}, "spin on", "spin off", "spin");`)
                cmds.push(`Jmol.script(${myJmol}, 'load ${onepdbfile}; cartoon only; color cartoon structure; set echo top left; echo "${pdbname}"');`)
                cmd = cmds.join("\n")
                console.log(cmd);
                eval(cmd);
            }
        });
    });

function createTable(tableData) {
    var table = document.createElement('table');
    var tableBody = document.createElement('tbody');
    var iline = 0, ix = 1, iy = 1;
    tableData.forEach(function(rowData) {
        var row = document.createElement('tr');

        ix = 1;
        rowData.forEach(function(cellData) {
            var cell = document.createElement('td');
            var celldiv = document.createElement('div');
            if (cellData.length > 0){
                var cellDatadiv = `<span id="span_jmolCheckbox${iline}"><input type="checkbox" name="jmolCheckbox${iline}" id="jmolCheckbox${iline}" onclick="Jmol.controls._cbClick(this)" onmouseover="Jmol.controls._cbOver(this);return true" onmouseout="Jmol.controls._mouseOut()"><label for="jmolCheckbox${iline}">Spin</label></span>\n`
                cellDatadiv += `<div id="JmolDiv${ix}_${iy}" style="width:70vmin; height:70vmin;"></div>`
                celldiv.innerHTML = cellDatadiv;
                iline += 1;
            } else {
                celldiv.innerHTML = ""
            }
            cell.appendChild(celldiv);
            row.appendChild(cell);
            ix += 1;
        });

        tableBody.appendChild(row);
        iy += 1;
    });

    table.appendChild(tableBody);
    const currentDiv = document.getElementById("AllPDBs");
    currentDiv.appendChild(table);
}
</script>

<div id="AllPDBs"></div>

      </div>
    </div>

    <div id="footer" class="panel">
  <div class="panel-footer">
	<div class="container-fluid">
	  <div class="row">


			<ul class="nav navbar-nav navbar-right">
<!--			<li><a href="https://www.stjude.cloud/" target="_blank">St. Jude Cloud</a></li>
-->
                <li><a href="https://www.stjude.org/" target="_blank">St. Jude</a></li>
                <li><a href="https://xubeisi.github.io/about">About</a></li>
				<li><a href="https://xubeisi.github.io/recruitment">Recruitment</a></li>
			</ul>

		
	  </div>
	</div>
  </div>
</div>


  

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://xubeisi.github.io/js/bootstrap.min.js"></script>


  </body>

  <!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

</html>
